<div class="movie-card">
  <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –ø–æ—Å—Ç–µ—Ä -->
  <div class="poster-side">
    <div class="poster-container">
      @if (movie.posterUrl) {
        <img
          [src]="movie.posterUrl"
          [alt]="movie.title"
          class="poster"
          (error)="onImageError($event)"
          loading="lazy"
        >
      } @else {
        <div class="poster-placeholder">üé¨</div>
      }

      <!-- –ë–µ–π–¥–∂–∏ –Ω–∞ –ø–æ—Å—Ç–µ—Ä–µ -->
      <div class="poster-overlay">
        <div class="age-rating">
          {{ movie.ageRating }}
        </div>
        <div class="year-badge">
          {{ getYear(movie.releaseDate) }}
        </div>
      </div>
    </div>
  </div>

  <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
  <div class="info-side">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="movie-header">
      <h3 class="movie-title">{{ movie.title }}</h3>

      <div class="movie-meta">
        <div class="meta-item">
          <span class="meta-icon">‚è±Ô∏è</span>
          <span>{{ movie.duration }} –º–∏–Ω.</span>
        </div>
      </div>
    </div>

    <!-- –ñ–∞–Ω—Ä—ã -->
    @if (movie.genres && movie.genres.length > 0) {
      <div class="genres-section">
        <div class="genres">
          @for (genre of movie.genres; track genre) {
            <span class="genre-tag">{{ genre }}</span>
          }
        </div>
      </div>
    }


    <!-- –°–µ–∞–Ω—Å—ã -->
    @if (showSessions) {
      <div class="sessions-section">
        <div class="sessions-header">
          <h4 class="sessions-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ–∞–Ω—Å—ã</h4>
        </div>

        @if (hasSessions && sessionDates && sessionDates.length > 0) {
          <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º -->
          <div class="session-dates">
            @for (sessionGroup of sessionDates; track sessionGroup.date) {
              <div class="session-date-group">
                <div class="date-header">
                  <span class="date-label">
                    {{ sessionGroup.date | date:'dd.MM.yyyy' }}
                  </span>
                </div>

                <div class="session-times">
                  @for (session of sessionGroup.sessions; track session.sessionId) {
                    <a
                      [routerLink]="['/session', session.sessionId]"
                      class="session-time-btn"
                      [title]="'–ë–∏–ª–µ—Ç—ã –Ω–∞ ' + formatSessionTime(session.dateTime)"
                    >
                      {{ formatSessionTime(session.dateTime) }}
                    </a>
                  }
                </div>
              </div>
            }
          </div>
        } @else {
          <div class="no-sessions">
            <p>üé≠ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤</p>
          </div>
        }
      </div>
    }

    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–µ–µ -->
    <div class="movie-actions">
      <a
        [routerLink]="['/movie', movie.filmId]"
        class="details-btn"
      >
        –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ñ–∏–ª—å–º–µ
      </a>
    </div>
  </div>
</div>
